/**
 * @name cyjh.act.egg
 * @constructor
 * @Extends jquery.1.9.1.min.js&cyjh.1.3.3.min.js&cyjh.act.1.3.0.min.js
 * @description 前端活动模板砸金蛋
 * @author dullBear (site: www.dullbear.com email:dullbear.sheng@gmail.com data:2015-03-17)
 * @version 1.0
 * @site www.dullbear.com
 * @example cyjh.actEgg = new cyjh.act.egg('smashEggWrap', 'evtEgg', 3, 'smashEggHammer');
 * cyjh.actEgg.eggHasPrize();
 * @param wrapIdName  {string} 金蛋外框id
 * @param evtIdName  {string} 事件点击层id
 * @param length {number} 金蛋个数
 * @param smashIdName {string} 锤子id
 */
(function(){cyjh.act.egg=function(d,b,a,c){this.wrapIdName=$("#"+d);this.smashIdName=$("#"+c);this.evtIdName=$("#"+b);this.length=a;this.init()};cyjh.act.egg.prototype={init:function(){for(var d=this,b="",a="",c="",e="",b='\x3cli\x3e\x3ci class\x3d"smashEggBody "\x3e\u91d1\u86cb\x3c/i\x3e \x3ci class\x3d"smashEggFlower"\x3e\u82b1\x3c/i\x3e\x3ci class\x3d"smashEggPack"\x3e\u793c\u5305\x3c/i\x3e\t\t\t\t         \x3ci class\x3d"smashEggBroken"\x3e\u7838\u5f00\u86cb\x3c/i\x3e\x3c/li\x3e',c="\x3cli\x3e\x3c/li\x3e",f=0;f<=this.length-1;f++)a+=b,e+=c;this.wrapIdName.append(a);this.evtIdName.append(e);this.evtIdName.mouseenter(function(a){d.smashIdName.css({display:"block","z-index":"98"})}).mouseleave(function(){d.smashIdName.css({display:"none","z-index":"10"})}).mousemove(function(a){var b=$(".smashEggWrap").offset().left,c=$(".smashEggWrap").offset().top;d.smashIdName.css({left:a.pageX-b+"px",top:a.pageY-c-40+"px"})});this.evtIdName.children("li").click(function(a){a=$(this).index();d.clickAllow(a)})},reState:function(){this.wrapIdName.children("li").removeClass("eggNoPrize eggHasPrize ");this.smashIdName.removeClass("smashEggHammerClick");this.smashIdName.css({display:"block","z-index":"10"})},eggHasPrize:function(d,b){var a=this,c,e;this.smashIdName.addClass("smashEggHammerClick");this.wrapIdName.children("li").eq(d).addClass("eggHasPrize");clearTimeout(c);clearTimeout(e);c=setTimeout(function(){a.smashIdName.css("display","none");a=null},300);e=setTimeout(function(){b();b=null},1E3)},eggNoPrize:function(d,b){var a=this,c,e;this.smashIdName.addClass("smashEggHammerClick");this.wrapIdName.children("li").eq(d).addClass("eggNoPrize");clearTimeout(c);clearTimeout(e);c=setTimeout(function(){a.smashIdName.css("display","none");a=null},300);e=setTimeout(function(){b();b=null},1E3)},clickAllow:function(d){}}})();